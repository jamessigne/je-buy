webpackJsonp([33],{280:function(n,l,t){"use strict";function e(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),i["ɵted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.voiture.nom)})}function u(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n            Vous souhaitez reserver une voiture au nom de \n             "])),(n()(),i["ɵeld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),i["ɵted"](3,null,[""," "])),(n()(),i["ɵted"](-1,null,[" et au numéro de Télephone\n                  "])),(n()(),i["ɵeld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),i["ɵted"](6,null,["",""])),(n()(),i["ɵted"](-1,null,[". "])),(n()(),i["ɵeld"](8,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["               \n          "]))],null,function(n,l){var t=l.component;n(l,3,0,t.utilisateur.nom);n(l,6,0,t.utilisateur.tel)})}function o(n){return i["ɵvid"](0,[(n()(),i["ɵted"](-1,null,["\n"])),(n()(),i["ɵeld"](1,0,null,null,80,"div",[["class","modal-dialog"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n    "])),(n()(),i["ɵeld"](3,0,null,null,77,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n      "])),(n()(),i["ɵeld"](5,0,null,null,74,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0,u=n.component;if("submit"===l){e=!1!==i["ɵnov"](n,7).onSubmit(t)&&e}if("reset"===l){e=!1!==i["ɵnov"](n,7).onReset()&&e}if("ngSubmit"===l){e=!1!==u.onSubmit()&&e}return e},null,null)),i["ɵdid"](6,16384,null,0,C.s,[],null,null),i["ɵdid"](7,4210688,[["commandeForm",4]],0,C.m,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),i["ɵprd"](2048,null,C.b,null,[C.m]),i["ɵdid"](9,16384,null,0,C.l,[C.b],null,null),(n()(),i["ɵted"](-1,null,["\n        "])),(n()(),i["ɵeld"](11,0,null,null,9,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵeld"](13,0,null,null,1,"button",[["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.FClose()&&e}return e},null,null)),(n()(),i["ɵted"](-1,null,["×"])),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵeld"](16,0,null,null,3,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["  "])),(n()(),i["ɵand"](16777216,null,null,1,null,e)),i["ɵdid"](19,16384,null,0,_.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["ɵted"](-1,null,["\n        "])),(n()(),i["ɵted"](-1,null,["\n        "])),(n()(),i["ɵeld"](22,0,null,null,47,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵand"](16777216,null,null,1,null,u)),i["ɵdid"](25,16384,null,0,_.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),i["ɵted"](-1,null,["\n         \n          \n\n          \n        \n          "])),(n()(),i["ɵeld"](27,0,null,null,27,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n              "])),(n()(),i["ɵeld"](29,0,null,null,1,"label",[["for","nbrjour"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["Nombre de jour de la reservation"])),(n()(),i["ɵted"](-1,null,["\n                  "])),(n()(),i["ɵeld"](32,0,null,null,21,"div",[["class","quantity"],["style","margin-left:20px;height:40px;"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n                    \n                    "])),(n()(),i["ɵeld"](34,0,null,null,6,"input",[["class","form-control"],["id","nbrjour"],["max","30"],["min","1"],["name","nbrjour"],["step","1"],["type","number"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var e=!0,u=n.component;if("input"===l){e=!1!==i["ɵnov"](n,35)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==i["ɵnov"](n,35).onTouched()&&e}if("compositionstart"===l){e=!1!==i["ɵnov"](n,35)._compositionStart()&&e}if("compositionend"===l){e=!1!==i["ɵnov"](n,35)._compositionEnd(t.target.value)&&e}if("change"===l){e=!1!==i["ɵnov"](n,36).onChange(t.target.value)&&e}if("input"===l){e=!1!==i["ɵnov"](n,36).onChange(t.target.value)&&e}if("blur"===l){e=!1!==i["ɵnov"](n,36).onTouched()&&e}if("ngModelChange"===l){e=!1!==(u.nbrjour=t)&&e}return e},null,null)),i["ɵdid"](35,16384,null,0,C.c,[i.Renderer2,i.ElementRef,[2,C.a]],null,null),i["ɵdid"](36,16384,null,0,C.r,[i.Renderer2,i.ElementRef],null,null),i["ɵprd"](1024,null,C.i,function(n,l){return[n,l]},[C.c,C.r]),i["ɵdid"](38,671744,null,0,C.n,[[2,C.b],[8,null],[8,null],[2,C.i]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](2048,null,C.j,null,[C.n]),i["ɵdid"](40,16384,null,0,C.k,[C.j],null,null),(n()(),i["ɵted"](-1,null,["\n                    "])),(n()(),i["ɵeld"](42,0,null,null,4,"div",[["class","quantity-nav"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n                      "])),(n()(),i["ɵeld"](44,0,null,null,1,"div",[["class","quantity-button quantity-down"],["id","quantity-down"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["-"])),(n()(),i["ɵted"](-1,null,["\n                    "])),(n()(),i["ɵted"](-1,null,[" \n                        "])),(n()(),i["ɵeld"](48,0,null,null,4,"div",[["class","quantity-nav"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n                          "])),(n()(),i["ɵeld"](50,0,null,null,1,"div",[["class","quantity-button quantity-up"],["id","quantity-up"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["+"])),(n()(),i["ɵted"](-1,null,["\n                        "])),(n()(),i["ɵted"](-1,null,["\n                  "])),(n()(),i["ɵted"](-1,null,["\n            "])),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵeld"](56,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n            "])),(n()(),i["ɵeld"](58,0,null,null,1,"label",[["for","commentaire"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["Commentaire"])),(n()(),i["ɵted"](-1,null,["\n            "])),(n()(),i["ɵeld"](61,0,null,null,5,"textarea",[["class","form-control"],["id","commentaire"],["name","commentaire"],["placeholder","Facultatif"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0,u=n.component;if("input"===l){e=!1!==i["ɵnov"](n,62)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==i["ɵnov"](n,62).onTouched()&&e}if("compositionstart"===l){e=!1!==i["ɵnov"](n,62)._compositionStart()&&e}if("compositionend"===l){e=!1!==i["ɵnov"](n,62)._compositionEnd(t.target.value)&&e}if("ngModelChange"===l){e=!1!==(u.commentaire=t)&&e}return e},null,null)),i["ɵdid"](62,16384,null,0,C.c,[i.Renderer2,i.ElementRef,[2,C.a]],null,null),i["ɵprd"](1024,null,C.i,function(n){return[n]},[C.c]),i["ɵdid"](64,671744,null,0,C.n,[[2,C.b],[8,null],[8,null],[2,C.i]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](2048,null,C.j,null,[C.n]),i["ɵdid"](66,16384,null,0,C.k,[C.j],null,null),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵted"](-1,null,["\n         "])),(n()(),i["ɵted"](-1,null,["\n        "])),(n()(),i["ɵted"](-1,null,["\n        "])),(n()(),i["ɵeld"](71,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵeld"](73,0,null,null,1,"button",[["class","btn btn-success"],["data-dismiss","modal"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),i["ɵted"](-1,null,["Envoyer"])),(n()(),i["ɵted"](-1,null,["\n          "])),(n()(),i["ɵeld"](76,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==n.component.FClose()&&e}return e},null,null)),(n()(),i["ɵted"](-1,null,["Fermer"])),(n()(),i["ɵted"](-1,null,["\n        "])),(n()(),i["ɵted"](-1,null,["\n      "])),(n()(),i["ɵted"](-1,null,["\n    "])),(n()(),i["ɵted"](-1,null,["\n  "])),(n()(),i["ɵted"](-1,null,["\n\n\n"]))],function(n,l){var t=l.component;n(l,19,0,t.voiture);n(l,25,0,t.utilisateur);n(l,38,0,"nbrjour",t.nbrjour);n(l,64,0,"commentaire",t.commentaire)},function(n,l){n(l,5,0,i["ɵnov"](l,9).ngClassUntouched,i["ɵnov"](l,9).ngClassTouched,i["ɵnov"](l,9).ngClassPristine,i["ɵnov"](l,9).ngClassDirty,i["ɵnov"](l,9).ngClassValid,i["ɵnov"](l,9).ngClassInvalid,i["ɵnov"](l,9).ngClassPending);n(l,34,0,i["ɵnov"](l,40).ngClassUntouched,i["ɵnov"](l,40).ngClassTouched,i["ɵnov"](l,40).ngClassPristine,i["ɵnov"](l,40).ngClassDirty,i["ɵnov"](l,40).ngClassValid,i["ɵnov"](l,40).ngClassInvalid,i["ɵnov"](l,40).ngClassPending);n(l,61,0,i["ɵnov"](l,66).ngClassUntouched,i["ɵnov"](l,66).ngClassTouched,i["ɵnov"](l,66).ngClassPristine,i["ɵnov"](l,66).ngClassDirty,i["ɵnov"](l,66).ngClassValid,i["ɵnov"](l,66).ngClassInvalid,i["ɵnov"](l,66).ngClassPending);n(l,73,0,!i["ɵnov"](l,7).form.valid)})}Object.defineProperty(l,"__esModule",{value:!0});var i=t(0),a=(t(4),t(117),t(301)),r=t(295),d=(t(199),t(200),t(305)),s=function(){function n(n,l,t,e){var u=this;this.commandeService=n,this.navParams=l,this.viewCtrl=t,this.nativeStorage=e,this.utilisateur=new d.a,this.nbrjour=1,this.submited=null,this.isSubmit=new i.EventEmitter,this.getuser(),this.voiture=l.get("voiture");var o=1;setInterval(function(){u.nbrjour=o},1e3),setTimeout(function(){$(".quantity").each(function(){var n=jQuery(this),l=n.find('input[type="number"]'),t=parseInt(l.attr("min")),e=parseInt(l.attr("max")),u=n.find("#quantity-up"),i=n.find("#quantity-down");console.log("je teste le js"),u.click(function(){console.log("je teste le bouton up");var l=parseInt(n.find("input").val().toString());o=l>=e?l:l+1,n.find("#nbrjour").val(o),n.find("#nbrjour").trigger("change")}),i.click(function(){var l=parseInt(n.find("input").val().toString());o=l<=t?l:l-1,n.find("#nbrjour").val(o),n.find("#nbrjour").trigger("change")})})},2e3)}return n.prototype.onSubmit=function(){var n=this;this.submited=!0,null==this.nbrjour&&(this.nbrjour=1),this.model={idvoiture:this.voiture.id,commentaire:this.commentaire,nbrjour:this.nbrjour,nom:this.utilisateur.nom,tel:this.utilisateur.tel,ville:this.utilisateur.ville},console.log(JSON.stringify(this.model)),this.motdepasse=this.utilisateur.pwd,this.motdepasse==this.utilisateur.pwd?this.commandeService.sendCommandeVoiture(this.model).subscribe(function(l){console.log(l),n.isSubmit.emit({value:!0}),$("#cussesModal").modal("toggle"),n.viewCtrl.dismiss()},function(l){console.log("une erreur est survenue "+l),n.isSubmit.emit({value:!1})}):(this.viewCtrl.dismiss(),$("#errorModal").modal("toggle"),console.log("mot de passe incorrect"))},Object.defineProperty(n.prototype,"diagnostic",{get:function(){return JSON.stringify(this.model)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.FClose=function(){this.viewCtrl.dismiss()},n.prototype.getuser=function(){var n=this;try{var l,t,e,u,o=indexedDB.open("je-buy");o.onsuccess=function(){t=(l=o.result).transaction("user","readwrite");var n=(e=t.objectStore("user")).get(1);n.onsuccess=function(){u=n.result},t.oncomplete=function(){l.close()}},setTimeout(function(){u&&(n.utilisateur=u.user,setTimeout(function(){n.model.nom=n.utilisateur.nom,n.model.telephone=n.utilisateur.tel,n.model.ville=n.utilisateur.ville},100))},1500)}catch(n){console.log("message")}},n}(),c=function(){return function(){}}(),m=t(187),p=t(188),g=t(189),v=t(190),f=t(191),b=t(192),h=t(193),y=t(194),j=t(195),C=t(18),_=t(13),O=t(11),S=t(5),w=i["ɵcrt"]({encapsulation:2,styles:[],data:{}}),I=i["ɵccf"]("page-commande2",s,function(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,0,null,null,1,"page-commande2",[],null,null,null,o,w)),i["ɵdid"](1,114688,null,0,s,[a.a,O.a,S.a,r.a],null,null)],function(n,l){n(l,1,0)},null)},{},{isSubmit:"isSubmit"},[]),P=t(37),F=t(118),R=t(39);t.d(l,"CommandeFormulairePage2ModuleNgFactory",function(){return T});var T=i["ɵcmf"](c,[],function(n){return i["ɵmod"]([i["ɵmpd"](512,i.ComponentFactoryResolver,i["ɵCodegenComponentFactoryResolver"],[[8,[m.a,p.a,g.a,v.a,f.a,b.a,h.a,y.a,j.a,I]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["ɵmpd"](4608,_.NgLocalization,_.NgLocaleLocalization,[i.LOCALE_ID,[2,_["ɵa"]]]),i["ɵmpd"](4608,C.t,C.t,[]),i["ɵmpd"](4608,C.d,C.d,[]),i["ɵmpd"](4608,a.a,a.a,[P.e]),i["ɵmpd"](512,_.CommonModule,_.CommonModule,[]),i["ɵmpd"](512,C.q,C.q,[]),i["ɵmpd"](512,C.g,C.g,[]),i["ɵmpd"](512,C.o,C.o,[]),i["ɵmpd"](512,F.a,F.a,[]),i["ɵmpd"](512,F.b,F.b,[]),i["ɵmpd"](512,c,c,[]),i["ɵmpd"](256,R.a,s,[])])})},295:function(n,l,t){"use strict";t.d(l,"a",function(){return o});var e=t(4),u=t(198),o=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(e.__extends)(l,n),l.prototype.setItem=function(n,l){},l.prototype.getItem=function(n){},l.prototype.keys=function(){},l.prototype.remove=function(n){},l.prototype.clear=function(){},Object(e.__decorate)([Object(u.a)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[String,Object]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"setItem",null),Object(e.__decorate)([Object(u.a)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[String]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"getItem",null),Object(e.__decorate)([Object(u.a)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"keys",null),Object(e.__decorate)([Object(u.a)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[String]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"remove",null),Object(e.__decorate)([Object(u.a)(),Object(e.__metadata)("design:type",Function),Object(e.__metadata)("design:paramtypes",[]),Object(e.__metadata)("design:returntype",Promise)],l.prototype,"clear",null),l=Object(e.__decorate)([Object(u.e)({pluginName:"NativeStorage",plugin:"cordova-plugin-nativestorage",pluginRef:"NativeStorage",repo:"https://github.com/TheCocoaProject/cordova-plugin-nativestorage",platforms:["Android","Browser","iOS","macOS","Windows"]})],l)}(u.d)},301:function(n,l,t){"use strict";t.d(l,"a",function(){return i});t(4);var e=t(37),u=t(199),o=(t.n(u),t(200)),i=(t.n(o),function(){function n(n){this.http=n}return n.prototype.sendCommande=function(n){var l;l=new e.d({"Content-Type":"application/json"});var t;return t=new e.g({headers:l}),this.http.post("http://35.226.130.188/api/BigBlue/commande",n,t).map(function(n){return n.json()})},n.prototype.sendCommandeVoiture=function(n){var l;l=new e.d({"Content-Type":"application/json"});var t;return t=new e.g({headers:l}),this.http.post("https://je-buy.com/api/commandevoiture",n,t).map(function(n){return n.json()})},n.prototype.sendCommandePanier=function(n){var l;l=new e.d({"Content-Type":"application/json"});var t;return t=new e.g({headers:l}),this.http.post("http://35.226.130.188/api/commandepanier",n,t).map(function(n){return n.json()})},n}())},305:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){return function(){}}()}});
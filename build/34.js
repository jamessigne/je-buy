webpackJsonp([34],{257:function(n,l,u){"use strict";function t(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),a["ɵted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.article.nom)})}function e(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n            Vous souhaitez envoyer une commande au nom de \n             "])),(n()(),a["ɵeld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),a["ɵted"](3,null,[""," "])),(n()(),a["ɵted"](-1,null,[" et au numéro de Télephone\n                  "])),(n()(),a["ɵeld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),a["ɵted"](6,null,["",""])),(n()(),a["ɵted"](-1,null,[". "])),(n()(),a["ɵeld"](8,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["               \n          "]))],null,function(n,l){var u=l.component;n(l,3,0,u.model.nom);n(l,6,0,u.model.telephone)})}function i(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"button",[["class","btn btn-success"],["data-dismiss","modal"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),a["ɵted"](-1,null,["Envoyer"]))],null,function(n,l){n(l,0,0,!a["ɵnov"](l.parent,7).form.valid)})}function o(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,3,"button",[["class","btn btn-success"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["En cours... "])),(n()(),a["ɵeld"](2,0,null,null,1,"ion-spinner",[],[[2,"spinner-paused",null]],null,null,w.b,w.a)),a["ɵdid"](3,114688,null,0,R.a,[S.a,a.ElementRef,a.Renderer],null,null)],function(n,l){n(l,3,0)},function(n,l){n(l,2,0,a["ɵnov"](l,3)._paused)})}function d(n){return a["ɵvid"](0,[(n()(),a["ɵted"](-1,null,["\n"])),(n()(),a["ɵeld"](1,0,null,null,83,"div",[["class","modal-dialog"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵeld"](3,0,null,null,80,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n      "])),(n()(),a["ɵeld"](5,0,null,null,77,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0,e=n.component;if("submit"===l){t=!1!==a["ɵnov"](n,7).onSubmit(u)&&t}if("reset"===l){t=!1!==a["ɵnov"](n,7).onReset()&&t}if("ngSubmit"===l){t=!1!==e.onSubmit()&&t}return t},null,null)),a["ɵdid"](6,16384,null,0,j.s,[],null,null),a["ɵdid"](7,4210688,[["commandeForm",4]],0,j.m,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),a["ɵprd"](2048,null,j.b,null,[j.m]),a["ɵdid"](9,16384,null,0,j.l,[j.b],null,null),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵeld"](11,0,null,null,9,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵeld"](13,0,null,null,1,"button",[["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.FClose()&&t}return t},null,null)),(n()(),a["ɵted"](-1,null,["×"])),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵeld"](16,0,null,null,3,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["  "])),(n()(),a["ɵand"](16777216,null,null,1,null,t)),a["ɵdid"](19,16384,null,0,T.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵeld"](22,0,null,null,47,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵand"](16777216,null,null,1,null,e)),a["ɵdid"](25,16384,null,0,T.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵeld"](27,0,null,null,27,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](29,0,null,null,1,"label",[["for","qte"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["Quantité"])),(n()(),a["ɵted"](-1,null,["\n                "])),(n()(),a["ɵeld"](32,0,null,null,21,"div",[["class","quantity"],["style","margin-left:20px;height:40px;"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n                    "])),(n()(),a["ɵeld"](34,0,null,null,6,"input",[["class","form-control"],["id","qte"],["max","30"],["min","1"],["name","qte"],["step","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==a["ɵnov"](n,35)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==a["ɵnov"](n,35).onTouched()&&t}if("compositionstart"===l){t=!1!==a["ɵnov"](n,35)._compositionStart()&&t}if("compositionend"===l){t=!1!==a["ɵnov"](n,35)._compositionEnd(u.target.value)&&t}if("change"===l){t=!1!==a["ɵnov"](n,36).onChange(u.target.value)&&t}if("input"===l){t=!1!==a["ɵnov"](n,36).onChange(u.target.value)&&t}if("blur"===l){t=!1!==a["ɵnov"](n,36).onTouched()&&t}if("ngModelChange"===l){t=!1!==(e.qte=u)&&t}return t},null,null)),a["ɵdid"](35,16384,null,0,j.c,[a.Renderer2,a.ElementRef,[2,j.a]],null,null),a["ɵdid"](36,16384,null,0,j.r,[a.Renderer2,a.ElementRef],null,null),a["ɵprd"](1024,null,j.i,function(n,l){return[n,l]},[j.c,j.r]),a["ɵdid"](38,671744,null,0,j.n,[[2,j.b],[8,null],[8,null],[2,j.i]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a["ɵprd"](2048,null,j.j,null,[j.n]),a["ɵdid"](40,16384,null,0,j.k,[j.j],null,null),(n()(),a["ɵted"](-1,null,["\n                    "])),(n()(),a["ɵeld"](42,0,null,null,4,"div",[["class","quantity-nav"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵeld"](44,0,null,null,1,"div",[["class","quantity-button quantity-down"],["id","quantity-down"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["-"])),(n()(),a["ɵted"](-1,null,["\n                      "])),(n()(),a["ɵted"](-1,null,["\n                      "])),(n()(),a["ɵeld"](48,0,null,null,4,"div",[["class","quantity-nav"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵeld"](50,0,null,null,1,"div",[["class","quantity-button quantity-up"],["id","quantity-up"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["+"])),(n()(),a["ɵted"](-1,null,["\n                      "])),(n()(),a["ɵted"](-1,null,["\n                "])),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵted"](-1,null,["\n        \n          "])),(n()(),a["ɵeld"](56,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](58,0,null,null,1,"label",[["for","commentaire"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["Commentaire"])),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](61,0,null,null,5,"textarea",[["class","form-control"],["id","commentaire"],["name","commentaire"],["placeholder","Facultatif."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0,e=n.component;if("input"===l){t=!1!==a["ɵnov"](n,62)._handleInput(u.target.value)&&t}if("blur"===l){t=!1!==a["ɵnov"](n,62).onTouched()&&t}if("compositionstart"===l){t=!1!==a["ɵnov"](n,62)._compositionStart()&&t}if("compositionend"===l){t=!1!==a["ɵnov"](n,62)._compositionEnd(u.target.value)&&t}if("ngModelChange"===l){t=!1!==(e.model.commentaire=u)&&t}return t},null,null)),a["ɵdid"](62,16384,null,0,j.c,[a.Renderer2,a.ElementRef,[2,j.a]],null,null),a["ɵprd"](1024,null,j.i,function(n){return[n]},[j.c]),a["ɵdid"](64,671744,null,0,j.n,[[2,j.b],[8,null],[8,null],[2,j.i]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a["ɵprd"](2048,null,j.j,null,[j.n]),a["ɵdid"](66,16384,null,0,j.k,[j.j],null,null),(n()(),a["ɵted"](-1,null,["\n          "])),(n()(),a["ɵted"](-1,null,["\n         "])),(n()(),a["ɵted"](-1,null,["\n\n        "])),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵeld"](71,0,null,null,10,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n         \n            "])),(n()(),a["ɵand"](16777216,null,null,1,null,i)),a["ɵdid"](74,16384,null,0,T.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["ɵted"](-1,null,["\n          \n            "])),(n()(),a["ɵand"](16777216,null,null,1,null,o)),a["ɵdid"](77,16384,null,0,T.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["ɵted"](-1,null,["\n          \n          "])),(n()(),a["ɵeld"](79,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(n,l,u){var t=!0;if("click"===l){t=!1!==n.component.FClose()&&t}return t},null,null)),(n()(),a["ɵted"](-1,null,["Fermer"])),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵted"](-1,null,["\n      "])),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵted"](-1,null,["\n  "])),(n()(),a["ɵted"](-1,null,["\n\n\n"]))],function(n,l){var u=l.component;n(l,19,0,u.article);n(l,25,0,u.utilisateur);n(l,38,0,"qte",u.qte);n(l,64,0,"commentaire",u.model.commentaire);n(l,74,0,!u.ok);n(l,77,0,u.ok)},function(n,l){n(l,5,0,a["ɵnov"](l,9).ngClassUntouched,a["ɵnov"](l,9).ngClassTouched,a["ɵnov"](l,9).ngClassPristine,a["ɵnov"](l,9).ngClassDirty,a["ɵnov"](l,9).ngClassValid,a["ɵnov"](l,9).ngClassInvalid,a["ɵnov"](l,9).ngClassPending);n(l,34,0,a["ɵnov"](l,40).ngClassUntouched,a["ɵnov"](l,40).ngClassTouched,a["ɵnov"](l,40).ngClassPristine,a["ɵnov"](l,40).ngClassDirty,a["ɵnov"](l,40).ngClassValid,a["ɵnov"](l,40).ngClassInvalid,a["ɵnov"](l,40).ngClassPending);n(l,61,0,a["ɵnov"](l,66).ngClassUntouched,a["ɵnov"](l,66).ngClassTouched,a["ɵnov"](l,66).ngClassPristine,a["ɵnov"](l,66).ngClassDirty,a["ɵnov"](l,66).ngClassValid,a["ɵnov"](l,66).ngClassInvalid,a["ɵnov"](l,66).ngClassPending)})}Object.defineProperty(l,"__esModule",{value:!0});var a=u(0),s=(u(4),u(117),function(){return function(n,l,u,t,e,i){this.articleId=n,this.nom=l,this.telephone=u,this.ville=t,this.commentaire=e,this.quantite=i}}()),r=u(301),c=(u(199),u(200),u(305)),m=function(){function n(n,l,u){var t=this;this.commandeService=n,this.navParams=l,this.viewCtrl=u,this.utilisateur=new c.a,this.model=new s(this.id,this.utilisateur.nom,this.utilisateur.tel,this.utilisateur.ville,null,null),this.submited=null,this.qte=1,this.ok=!1,this.isSubmit=new a.EventEmitter,this.getuser(),this.article=l.get("article");var e=1;setInterval(function(){t.qte=e},1e3),setTimeout(function(){$(".quantity").each(function(){var n=jQuery(this),l=n.find('input[type="number"]'),u=parseInt(l.attr("min")),t=parseInt(l.attr("max")),i=n.find(".quantity-up"),o=n.find(".quantity-down");console.log("je teste le js"),i.click(function(){var l=parseInt(n.find("input").val().toString());e=l>=t?l:l+1,n.find("#qte").val(e),n.find("#qte").trigger("change")}),o.click(function(){var l,t=parseInt(n.find("input").val().toString());l=t<=u?t:t-1,n.find("#qte").val(l),n.find("#qte").trigger("change")})})},2e3)}return n.prototype.onSubmit=function(){var n=this;this.submited=!0,this.ok=!0,this.model.quantite=this.qte,this.model.articleId=this.article.idarticle,this.motdepasse=this.utilisateur.pwd,console.log(JSON.stringify(this.model)),this.motdepasse==this.utilisateur.pwd?(this.commandeService.sendCommande(this.model).subscribe(function(l){console.log(l),n.isSubmit.emit({value:!0}),$("#cussesModal").modal("toggle"),n.viewCtrl.dismiss()},function(l){n.ok=!1,n.viewCtrl.dismiss(),console.log("une erreur est survenue "+l),n.isSubmit.emit({value:!1})}),console.log("dans commande form")):(this.viewCtrl.dismiss(),$("#errorModal").modal("toggle"),console.log("mot de passe incorrect"))},Object.defineProperty(n.prototype,"diagnostic",{get:function(){return JSON.stringify(this.model)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.FClose=function(){this.viewCtrl.dismiss()},n.prototype.getuser=function(){var n=this;try{var l,u,t,e,i=indexedDB.open("je-buy");i.onsuccess=function(){u=(l=i.result).transaction("user","readwrite");var n=(t=u.objectStore("user")).get(1);n.onsuccess=function(){e=n.result},u.oncomplete=function(){l.close()}},setTimeout(function(){e&&(n.utilisateur=e.user,setTimeout(function(){n.model.nom=n.utilisateur.nom,n.model.telephone=n.utilisateur.tel,n.model.ville=n.utilisateur.ville},100))},1500)}catch(n){console.log("message")}},n}(),p=function(){return function(){}}(),g=u(187),f=u(188),v=u(189),h=u(190),b=u(191),C=u(192),y=u(193),q=u(194),I=u(195),w=u(196),R=u(56),S=u(1),j=u(18),T=u(13),k=u(11),M=u(5),E=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),F=a["ɵccf"]("page-commande",m,function(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"page-commande",[],null,null,null,d,E)),a["ɵdid"](1,114688,null,0,m,[r.a,k.a,M.a],null,null)],function(n,l){n(l,1,0)},null)},{id:"id",article:"article"},{isSubmit:"isSubmit"},[]),P=u(37),N=u(118),_=u(39);u.d(l,"CommandeFormulairePageModuleNgFactory",function(){return V});var V=a["ɵcmf"](p,[],function(n){return a["ɵmod"]([a["ɵmpd"](512,a.ComponentFactoryResolver,a["ɵCodegenComponentFactoryResolver"],[[8,[g.a,f.a,v.a,h.a,b.a,C.a,y.a,q.a,I.a,F]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["ɵmpd"](4608,T.NgLocalization,T.NgLocaleLocalization,[a.LOCALE_ID,[2,T["ɵa"]]]),a["ɵmpd"](4608,j.t,j.t,[]),a["ɵmpd"](4608,j.d,j.d,[]),a["ɵmpd"](4608,r.a,r.a,[P.e]),a["ɵmpd"](512,T.CommonModule,T.CommonModule,[]),a["ɵmpd"](512,j.q,j.q,[]),a["ɵmpd"](512,j.g,j.g,[]),a["ɵmpd"](512,j.o,j.o,[]),a["ɵmpd"](512,N.a,N.a,[]),a["ɵmpd"](512,N.b,N.b,[]),a["ɵmpd"](512,p,p,[]),a["ɵmpd"](256,_.a,m,[])])})},301:function(n,l,u){"use strict";u.d(l,"a",function(){return o});u(4);var t=u(37),e=u(199),i=(u.n(e),u(200)),o=(u.n(i),function(){function n(n){this.http=n}return n.prototype.sendCommande=function(n){var l;l=new t.d({"Content-Type":"application/json"});var u;return u=new t.g({headers:l}),this.http.post("http://35.226.130.188/api/BigBlue/commande",n,u).map(function(n){return n.json()})},n.prototype.sendCommandeVoiture=function(n){var l;l=new t.d({"Content-Type":"application/json"});var u;return u=new t.g({headers:l}),this.http.post("https://je-buy.com/api/commandevoiture",n,u).map(function(n){return n.json()})},n.prototype.sendCommandePanier=function(n){var l;l=new t.d({"Content-Type":"application/json"});var u;return u=new t.g({headers:l}),this.http.post("http://35.226.130.188/api/commandepanier",n,u).map(function(n){return n.json()})},n}())},305:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var t=function(){return function(){}}()}});